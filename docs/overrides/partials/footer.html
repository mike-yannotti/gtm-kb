<footer class="md-footer">
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner">
      <div class="md-footer-copyright">
        <span>Last updated: <span id="kb-updated" data-ts="{{ build_date | d('') }}">{{ build_date }}</span></span>
      </div>
    </div>
  </div>
</footer>

<script>
(function(){
  var el = document.getElementById('kb-updated');
  if (!el) return;
  var s = el.getAttribute('data-ts') || el.textContent;
  if (!s) return;
  var d = new Date(s);
  if (isNaN(d)) { el.textContent = s; return; }
  function pad(n){ return n.toString().padStart(2,'0'); }
  var h = d.getHours();
  var ampm = h >= 12 ? 'PM' : 'AM';
  h = h % 12; if (h === 0) h = 12;
  var formatted = pad(d.getMonth()+1) + '/' + pad(d.getDate()) + '/' + d.getFullYear()
                + ' ' + h + ':' + pad(d.getMinutes()) + ' ' + ampm;
  el.textContent = formatted;
})();
</script>
